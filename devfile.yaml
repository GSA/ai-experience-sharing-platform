schemaVersion: 2.0.0
metadata:
  name: ai-experience-sharing-platform
  version: 1.0.0
projects:
  - name: api-host
    clonePath: src/github.com/gsa/ai-experience-sharing-platform
    git:
      remotes:
        origin: "https://github.com/GSA/ai-experience-sharing-platform.git"
      checkoutFrom:
        revision: containerization
components:
  - name: strapi
    container:
      image: strapi/strapi:3.6.8
      mountSources: true
      sourceMapping: /project
commands:
  - id: installAndBuild
    exec:
      component: strapi
      commandLine: "cd ui && yarn && yarn build && cd ../cms && cp -R ../ui/build/* ./public && npm i && npm run build"
      workingDir: "src/github.com/gsa/ai-experience-sharing-platform"
